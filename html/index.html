<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Agility in Containers - adamkrieger.ca</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black_ak.css" id="theme">


    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <link rel="stylesheet" href="css/font-awesome.css">
    <!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

    <link rel="stylesheet" href="css/ak-speaking.css">
</head>

<!-- Sources

https://blog.docker.com/2016/03/containers-are-not-vms/
-->

<body>

    <img id="aklogo" src="img/aklogo.png" />
    <div id="akinfo">
        <p><b>www.adamkrieger.ca</b><br /></p>
        <p><b><i class="fa fa-twitter"></i> @adamkrieger</b></p>
    </div>
    <img id="onlinelogo" src="img/Online_logo.png" />

    <div class="reveal">

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>
                <div id="titleslide">
                    <div id="sessionbanner">
                        <div id="logo">
                            <img src="img/PrDC_logo.png" />
                        </div>
                        <div id="sessiontitle">
                            <span>AGILITY IN CONTAINERS</span>
                            <br />
                            <br />
                            <span>ADAM KRIEGER</span>
                        </div>
                    </div>
                    <div id="sponsors">
                        <span>SPONSORS</span>
                        <img src="img/sponsors.png" />
                    </div>
                </div>
            </section>
            <section>
                <h1>Agility in Containers</h1>
                <h2>How Work Evolves with Docker</h2>
                <i class="icon ion-home"></i>
                <div style="width: 300px; padding-left: 100px; margin: auto">
                    <p style="text-align: left">
                        <small>by Adam Krieger</small>
                    </p>
                </div>
                <i class="fa fa-chrome"></i> <a href="https://www.adamkrieger.ca/talks/dockerworkflows">https://www.adamkrieger.ca/talks/dockerworkflows</a><br />
                <i class="fa fa-github"></i> <a href="https://github.com/adamkrieger/FSBetter">https://github.com/adamkrieger/FSBetter</a>
            </section>

            <section>
                Values
                Differentiated Value
                Environmental Variance
                Change in Behaviour
                Developers, but also others
                Scalability
                Isolation
                Reduction in Cycle time
            </section>

            <section>
                <h4>Why Containers?</h4>
                    <table style="width: 80%">
                        <tr><td>Isolation</td><td><i>Confidence in a vacuum</i></td></tr>
                        <tr><td>Immutability</td><td><i>Starting from square v1.0</i></td></tr>
                        <tr><td>Intent</td><td><i>Why don't you just tell me the name of the movie you selected?</i></td></tr>
                    </table>
            </section>

            <section>
                <h4>What is a container</h4>
                <p>LXC Around since 2008</p>
                <p>(Solaris Zones in 2005)</p>
                <p>libcontainer around since docker .9 (2014)</p>
                <p>Operating-System-Level Virtualization - Kernel Reuse, not a full software computer. Container is supplied with its own process/network/file space, 
                    but reuses the kernel.</p>
                <p>This is a savings of resources, mainly of disk, second of memory, and a bit of CPU. (Always falling as new hardware comes out.)</p>
            </section>
            <!-- http://serverfault.com/questions/225719/so-really-what-is-the-overhead-of-virtualization-and-when-should-i-be-concerned -->

            <section>
                <h4>What is Docker?</h4>
                <p>Around since 2013</p>
                <p>Layer of abstraction and tooling for Linux Containers written in Go</p>
                <p>Process tree rooted at PID0</p>
                <p>Wealth of integration with existing automation tooling (ansible, Chef, Cloud, et al)</p>
            </section>

            <section>
                <h4>Delivery Pre-Docker!</h4>
                <p>Deploying on bare metal. Physical connections to the internet. Deploy with manual action, hands on keyboards and spreadsheets.</p>
                <p>Deploying on VMs. Logical connections to the internet. Deploy with scripts, automation, and repositories.</p>
                <p>Deploying with Containers. Back to bare metal, but isolated processes. Deploy with immutable images and throwaway containers.</p>
            </section>

            <section>
                <section>
                    <h4>Conway's Law for Infrastructure</h4>
                    <p>The structure of an organization's products and services will correspond to the structural capabilities of that organization's infrastructure.</p>
                </section>
                <section>
                    Adoption is still ramping.
                    <!-- https://www.datadoghq.com/docker-adoption/ -->
                </section>
            </section>

            <section>
                <h4>Meanwhile, in Application Development</h4>
                <p>N-Tier Apps: One app, one database, one UI. Lucky to see apps or databases broken by responsibility.</p>
                <p>SOA: Loosely-coupled apps, serving individual purposes. Storage on queues, caches, or an assortment of databases.</p>
                <p>Microservices: Services as small as is functionally appropriate. Denormalized and distributed data sources in service of user experience.</p>
            </section>

            <section>
                <h4>Docker Toolset</h4>
                <p>Docker Machine - For provisioning hosts</p>
                <p>Docker Engine - Build/Run Containers</p>
                <p>Docker Compose - For defining multi-container applications</p>
                <p>Docker Hub - Image repository</p>
                <p>Swarm Mode - Multi-host orchestration</p>
            </section>

            <section>
                <h4>Isolation</h4>
                Container process trees run in their own process, network, and file space.
                PID0 is the lifecycle of the process.
                Homogenize resources, log outputs.
            </section>

            <section>
                <h4>Immutability, Images, LFS</h4>
                <p>Mechanism for reuse. Nothing needs to be stored twice, even if a downstream image/container mutates.</p>
                More than just code, now assets, file system, and configuration can be layered and immutable.
                Environments specific configuration is the only thing that needs to be fed in at run time.
            </section>

            <section>
                <h4>Intent</h4>
                Dockerfiles explain the process of building an image.
                Volumes, ports, and endpoints must be explicitly configured.
                No service should be colocated, discourages shortcuts that cause fragility.
            </section>

            <section>
                Docker Security
                Priviledged v unpriviledged containers (whether they run as root on the host)
            </section>

            <section>
                Containers are Agile
                Declaration of interaction
                Software is deployable, earlier
                Lighter, flexible, apps, are more responsive to change
            </section>

            <section>
                <section>
                    <h4>Develop</h4>
                    Dockerfile
                    image
                    container

                    Dev-only
                    Mock at the container level
                    Pass in different environment variables
                    Seed data in images
                </section>

                <section>
                    <h4>Develop: Tools</h4>
                    Dockerfile
                    docker engine - build/run
                    docker compose
                </section>

                <section>
                    <h4>Develop in Confusion</h4><!--Coincidence is a four-letter word-->
                    IDE &#8226;
                    Compiler &#8226;
                    Transpiler &#8226;
                    Framework Binaries &#8226;
                    Source Code  &#8226;
                    App Binaries &#8226;
                    In-Mem DB &#8226;
                    Minimizer &#8226;
                    Web Server &#8226;
                    Environment Variables &#8226;
                    Assets &#8226;
                    Dev Scripts &#8226;
                    App Config &#8226;
                    Package Mgmt &#8226;
                    Version Mgmt
                </section>

                <section>
                    <h4>Develop in Isolation</h4>
                    <table>
                        <tr>
                            <td>Host
                                Source Code
                                IDE
                                Dev Scripts
                                Assets*
                            </td>
                            <td>Build
                                Compiler
                                Transpiler
                                Minimizer
                                Framework Bin.
                                Package Mgmt
                                Version Mgmt
                            </td>
                            <td>Other Container
                                Web Server
                                In-Mem DB
                            </td>
                            <td>Image
                                Framework
                                App
                                Assets
                            </td>
                            <td>Running Container
                                Environment
                                Config
                            </td>
                        </tr>
                    </table>
                </section>
            </section>

            <section>
                <h4>Deliver</h4>
                Provision
                get from hub
                run
            </section>

            <section>
                <h4>Support</h4>
                Monitor
                Gather
                Cycle
                Upgrade
                Recover

                docker exec
                docker cp

                Monitoring
                appdyn - monitor connections, detect traffic, build map
                docker (weave?) - read container config
            </section>
            <!-- https://www.weave.works/guides/monitor-docker-containers/ -->
            
            <section>
                Scalability
                App binaries define strong barriers of composability, but don't usually play well with each other (unless you have a system of telling them apart (Undiff Val))
                VM images also provide barriers of composability, but are too heavy to shunt around
                Containers are a user space wrapped around a collection of binaries, and are both portable and play nicely with each other
            </section>

            <section>
                <h4>What's next?</h4>
                Microkernels
            </section>

            <section>
                <h2>Thank you!</h2>
            </section>
        </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.pack.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
    </script>

</body>

</html>
